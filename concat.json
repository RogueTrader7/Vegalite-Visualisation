{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": {"text":"Deaths due to Ischaemic heart disease(2011-2020)", "fontSize":"60", "font": "Lato","color": "gray", "anchor": "start"},
    "background": "#f3fafa",
    "view": {"fill": "#f3fafa"},
    "padding": {"centre": 100},
    "data": {
        "url": "https://raw.githubusercontent.com/RogueTrader7/Visulaisation2/main/concat.csv"
    },

    "transform": [
        {"filter": "datum.males > 0"},
        
        {
         "calculate": " datum['males'] +' died of Ischaemic heart disease(2011).'",
         "as": "text_annotation"
         }],

        "hconcat": [
            {
            "width": "550",
            "height": "400",
            "mark": "area",
            "encoding": {
            "x": {
                  "field": "Year",
                    "type": "temporal"
                  },
            "y": {
              "field": "males",
              "type": "quantitative",
              "axis": {"tickCount": 3, "grid": false} },
              "tooltip":[{"field": "Year", "type": "temporal"},
              {"field": "males", "type": "quantitative"}]
              },
              
            "layer": [
               {
               "mark":{
               "type":"area"}
                },
            {"transform": [
                {
               "window": [{
               "op": "rank",
               "as": "rank"
                }],
               "sort": [{ "field": "males", "order": "descending" }]
                }, 
                {
           "filter": "datum.rank <= 1"
               }
        ],
        "encoding": {
        "x": {
       "field": "males",
       "type": "quantitative"
   },
       "y": {
        "field": "Year",
       "type": "temporal",
        "sort": {"field": "males","op":"average", "order":"descending"}
        }
   },
   "mark": {"type": "text", "align": "right", "dx": 3, "size":"30"},
   "encoding": {"text": {"field": "text_annotation"}} 
   }
   ]
            
    },
        {
            "width": "550",
            "height": "400",
            "mark": "area",
            "encoding": {
                "x": {
                    "field": "Year",
                    "type": "temporal",

                    "axis": {
                        "title": "Year",
                        "labelFontSize":10, "titleFont": "Lato", "titleFontSize":10
                    }
            },


                "y": {
                    "field": "females",
                    "type": "quantitative",
                    "labelFont": "Lato", "labelFontSize":10, "titleFont": "Lato", "titleFontSize":10

                },

                "tooltip":[{"field": "Year", "type": "temporal"},
                {"field": "females", "type": "quantitative"}],
                "color": { "value": "firebrick" }
            }
            }
            ]
    

}